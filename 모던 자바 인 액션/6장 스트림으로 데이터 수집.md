# 6장 스트림으로 데이터 수집
소개말  
5장에선 스트림을 통한 연산을 수행할 수 있었다. 중간 연산을 통해 결과를 만들어 나갔지만
6장에선 최종연산인 collect를 통해서도 원하는 질의를 만들어 낼 수 있다.  
  

이 장에서 다뤄볼 데이터는 다음과 같다.
### 테스트 데이터
```java
public class Dish {

    public static final List<Dish> menu = asList(
            new Dish("pork", false, 800, Dish.Type.MEAT),
            new Dish("beef", false, 700, Dish.Type.MEAT),
            new Dish("chicken", false, 400, Dish.Type.MEAT),
            new Dish("french fries", true, 530, Dish.Type.OTHER),
            new Dish("rice", true, 350, Dish.Type.OTHER),
            new Dish("season fruit", true, 120, Dish.Type.OTHER),
            new Dish("pizza", true, 550, Dish.Type.OTHER),
            new Dish("prawns", false, 400, Dish.Type.FISH),
            new Dish("salmon", false, 450, Dish.Type.FISH)
    );
    public static final Map<String, List<String>> dishTags = new HashMap<>();

    static {
        dishTags.put("pork", asList("greasy", "salty"));
        dishTags.put("beef", asList("salty", "roasted"));
        dishTags.put("chicken", asList("fried", "crisp"));
        dishTags.put("french fries", asList("greasy", "fried"));
        dishTags.put("rice", asList("light", "natural"));
        dishTags.put("season fruit", asList("fresh", "natural"));
        dishTags.put("pizza", asList("tasty", "salty"));
        dishTags.put("prawns", asList("tasty", "roasted"));
        dishTags.put("salmon", asList("delicious", "fresh"));
    }

    private final String name;
    private final boolean vegetarian;
    private final int calories;
    private final Type type;

    public Dish(String name, boolean vegetarian, int calories, Type type) {
        this.name = name;
        this.vegetarian = vegetarian;
        this.calories = calories;
        this.type = type;
    }

    public String getName() {
        return name;
    }

    public boolean isVegetarian() {
        return vegetarian;
    }

    public int getCalories() {
        return calories;
    }

    public Type getType() {
        return type;
    }

    @Override
    public String toString() {
        return name;
    }

    public enum Type {
        MEAT,
        FISH,
        OTHER
    }

}

```

## 컬렉터란?
Collector 인터페이스 구현은 스트림 요소를 어떤식으로 도출할지 지정한다.  
다수준으로 그룹화를 수행할때 명령형과 함수형 프로그래밍의 차이는 더 두드러진다.  
명령형 코드에선 문제 해결 과정 중 다중 루프와 조건문이 많아져 가독성과 유지보수성이 크게 떨어진다.  
우리는 컬렉터를 알아보며 이러한 단점을 보완해갈 것이다.  

### 6.1.1 고급 리듀싱 기능을 수행하는 컬렉터
좋은 함수형 API의 장점은 높은 수준의 조합성과 재사용성을 꼽을 수 있다.  
간단하고 유연한 방식으로 정의할 수 있다는 것이 최대 장점이다.