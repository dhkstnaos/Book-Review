# 13장 디폴트 메서드
자바8에서는 기본 구현을 포함하는 인터페이스를 정의하는 두 가지 방법을 제공한다.  
1. 인터페이스 내부에 정적 메서드 사용
2. 인터페이스 기본 구현을 제공할 수 있도록 디폴트 메서드 사용  

즉 코드 구현을 강요받지 않으면서 인터페이스를 바꿀 수 있다.  
List의 sort 메서드는 자바8에서 새로 추가된 메서드이다.
```java
default void sort(Comparator<? super E> c) {
    Colecctions.sort(this, c);
}
```
반환 형식 void 앞에 default를 추가해 직접 sort를 호출할 수 있게 되었다.
```java
numbers.sort(Comparator.naturalOrder());
```

그러면 결국 인텊에ㅣ스가 아니라 추상 클래스 아닌가? 라는 의문이 생길 것이다.  
인터페이스와 추상 클래스는 같은 점이 많지만 여전히 다른 점도 있다.
default 메서드를 사용하는 이유에 대해서도 알아보자.  
디폴트 메서드를 이용하면 기본 구현을 바꾸지 않으면서도 인터페이스를 바꿀 수 있으므 잘 활용해야 한다.  

## 13.1 변화하는 API
이미 릴리즈된 인터페이스를 고치면 어떤 문제가 발생하는지 알아보자

### 13.1.1 API 1, 2
api1 버전에서 요구사항의 추가로 인터페이스에 기능을 추가했다고 가정할때, 구현체에도 직접적으로 구현을 해줘야 한다.
디폴트 메서드를 활용하면 기존 코드를 고치지 않고, 두 버전 모두 사용할 수 있다.

## 호환성
* 바이너리 호환성 : 뭔가를 바꾼 이후에도 에러 없이 기존 바이너리가 실행될 수 있는 상황
* 소스 호환성 : 코드를 고쳐도 기존 프로그램을 성공적으로 재컴파일할 수 있는 상황
* 동작 호환성 : 코드를 바꾼 다음에도 같은 입력값이 주어지면 프로그램이 같은 동작을 실행하는 상황

## 13.2 디폴트 메서드란 무엇인가?
자바8은 호환성을 유지하며 api를 바꿀 수 있도록 하는 디폴트 메서드를 제공한다.

## 추상 클래스와 인터페이스의 차이
1. 클래스는 하나의 추상 클래스만 상속받을 수 있지만, 인터페이스는 여러 개를 구현할 수 있다.
2. 추상 클래스는 변수(인스턴스 변수)를 공통 상태로 가질 수 있다. 하지만 인터페이스는 인스턴스 변수를 가질 수 없다.

## 13.3 디폴트 메서드 활용 패턴
디폴트 메서드 활용 방식은 두 가지가 있다.
1. 선택형 메서드
2. 동작 다중 상속

### 13.3.1 선택형 메서드
Iterator는 remove 메서드까지 정의했었다. 그러나 구현체 클래스에서 remove 기능은 잘 사용하지 않으므로 빈 구현으로
제공했다. 디폴트 메서드를 사용하면 기본 구현을 제공하므로 빈 구현을 할 필요가 없어졌고, 불필요한 코드를 줄일 수 있게 됐다.

### 13.3.2 동작 다중 상속
자바에서 클래스는 한 개의 다른 클래스만 상속할 수 있지만 인터페이스는 여러 개 구현할 수 있다. 
메서드가 중복되지 않는 최소한의 인터페이스를 유지한다면 코드에서 동작을 쉽게 재사용하고 조합할 수 있다.

## 13.4 해석 규칙
클래스는 여러 인터페이스를 구현할 수 있다. 같은 시그니쳐를 갖는 디폴트 메서드를 상속받는 상황이 생길 수 있다.
이런 문제는 c++의 다이아몬드 문제와 비슷하다.

### 13.4.1 세 가지 해결 규칙
