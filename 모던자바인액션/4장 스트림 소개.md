# 4장 스트림 소개

##### 컬렉션이 없다면?
컬렉션은 데이터를 그룹화하고 처리할 수 있다. 없다면 하나하나 해줘야 하기에 코드도 늘어나고  
보기 좋지 않을 것이다.

### 스트림이란 무엇인가?
스트림은 자바8 API에 추가된 기능이다. 스트림으로 데이터 컬렉션 반복을 처리할 수 있고, 멀티스레드 코드를 이용하지 않아도 된다.

다음은 자바7과 자바8 코드의 비교이다. 확연히 코드의 길이가 다른 점을 알 수 있다.
```java
//자바 7버전
List<Dish> lowCaloricDished = new ArrayList<>();
List<Dish> menu = List.of(
        new Dish(150, "fish"),
        new Dish(200, "meat"),
        new Dish(100, "rice"),
        new Dish(400, "seaweed")
);
for (Dish dish : menu) {
    if (dish.getCalorie() <= 150) {
        lowCaloricDished.add(dish);
    }
}

Collections.sort(lowCaloricDished, new Comparator<Dish>() {
        @Override
        public int compare(Dish o1, Dish o2) {
            return o1.getCalorie() - o2.getCalorie();
        }
});

List<String> dishName = new ArrayList<>();
for (Dish dish : lowCaloricDished) {
    dishName.add(dish.getName());
}

//자바 8버전
List<String> collects = menu.stream()
        .filter(e -> e.getCalorie() <= 150)
        .sorted(comparing(Dish::getCalorie))
        .map(Dish::getName)
        .collect(Collectors.toList());
```

filter는 고수준 빌딩 블록으로 이뤄져 있어서 특정 스레딩 모델에 국한되지 않고 자유롭게 사용할 수 있다.

#### 스트림의 특징 3가지
* 선언형: 간결하고 가독성이 좋아진다.
* 조립할 수 있다: 유연성이 좋아진다.
* 병렬화: 성능 개선

### 스트림 시작하기
> 스트림이란? 데이터 처리 연산을 지원하도록 소스에서 추출된 연속된 요소로 정의할 수 있다.

* 연속된 요소
  * 특정 요소 형식으로 이뤄진 연속된 값 집합의 인터페이스를 제공한다.
  * 컬렉션은 자료구조이기에 시간,공간 복잡성과 관련 요소 저장 및 접근 연산이 주를 이룬다.
  * 그러나 **스트림**은 filter, sorted, map 등 표현 계산식이 주를 이룬다.
  * 컬렉션은 데이터가 주이고, 스트림은 계산이 주인 것이다.
* 소스
  * 스트림은 다양한 데이터로부터 데이터를 소비한다.
  * 정렬된 컬렉션으로 생성하면 정렬이 유지된다.
* 데이터 처리 연산
  * 스트림은 함수형 언어 제공 연산과 비슷한 연산을 지원한다.
  * 순차적 또는 병렬로도 연산을 수행할 수 있다.
  
#### 스트림의 주요 특징
* 파이프라이닝
  * 스트림 연산끼리 연결해 파이프라이닝을 구성할 수 있다.
* 내부 반복
  * 컬렉션은 명시적으로 외부 반복을 하나 스트림은 내부 반복을 지원한다.

